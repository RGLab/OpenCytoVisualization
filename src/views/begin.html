<!--<script type='text/javascript'>	LABKEY.requiresExt4ClientAPI(); </script>-->
<script src='//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>
<script src='//ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js'></script>

<script type='text/javascript'>

    var init = function()
    {
        var webPartDiv = <%=webpartContext%>.wrapperDivId;

        var OpenCytoVisualization = new LABKEY.ext.OpenCytoVisualization({
            webPartDivId: webPartDiv
        });

        var resizeModule = function(w, h) {

            var extraWidth = 0;

//            extraWidth = Ext.getScrollBarWidth();

            test = document.getElementById(OpenCytoVisualization.webPartDivId).offsetWidth;

            LABKEY.Utils.resizeToViewport( OpenCytoVisualization, w-extraWidth, -1, null, null, 0 );

            OpenCytoVisualization.resize();
        };

        Ext.EventManager.onWindowResize( resizeModule );
        Ext.EventManager.fireWindowResize();
    }

    Ext.onReady(init);

</script>
